const fs = require('fs');
const path = require('path');

// Create a minimal 16x16 PNG for tray icon
function createTrayIcon() {
    // This is a minimal PNG (16x16, RGBA) with a simple blue circle
    const pngData = Buffer.from([
        0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
        0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52, // IHDR chunk
        0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10, // 16x16 dimensions
        0x08, 0x06, 0x00, 0x00, 0x00, 0x1F, 0xF3, 0xFF, // bit depth, color type, etc.
        0x61, 0x00, 0x00, 0x00, 0x47, 0x49, 0x44, 0x41, // IDAT chunk start
        0x54, 0x38, 0x8D, 0x4D, 0x8E, 0x41, 0x0A, 0x80,
        0x30, 0x0C, 0x44, 0x3F, 0x53, 0x1C, 0xC1, 0x0E,
        0x1C, 0xC0, 0x0E, 0x1C, 0xC1, 0x21, 0x1E, 0x40,
        0x5F, 0x20, 0x3E, 0x81, 0x64, 0x59, 0x96, 0x6C,
        0x42, 0x50, 0x14, 0x29, 0x8A, 0x22, 0x19, 0x63,
        0x8C, 0x31, 0xC6, 0x18, 0x63, 0x8C, 0x31, 0xC6,
        0x18, 0x63, 0x8C, 0x31, 0xC6, 0x18, 0x63, 0x8C,
        0x31, 0xC6, 0x18, 0x63, 0x8C, 0x31, 0xC6, 0x18,
        0x63, 0x0C, 0x00, 0x73, 0x13, 0x04, 0xC7, 0xF8,
        0x7C, 0x3E, 0x1F, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x45, 0x4E, 0x44, 0xAE, 0x42, 0x60, 0x82        // IEND chunk
    ]);

    return pngData;
}

// Create assets directory if it doesn't exist
const assetsDir = path.join(__dirname, 'assets');
if (!fs.existsSync(assetsDir)) {
    fs.mkdirSync(assetsDir, { recursive: true });
}

// Create tray icon
const trayIconData = createTrayIcon();
fs.writeFileSync(path.join(assetsDir, 'tray-icon.png'), trayIconData);

// Create a copy for the main window icon as well
fs.writeFileSync(path.join(assetsDir, 'icon.png'), trayIconData);

console.log('Icons created successfully!');
console.log('- assets/tray-icon.png');
console.log('- assets/icon.png');
